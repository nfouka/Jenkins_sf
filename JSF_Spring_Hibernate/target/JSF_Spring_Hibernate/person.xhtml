<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>JSF Spring Hibernate Integration</title>
</h:head>
<h:body>

	

    <p:dataTable id="dataTable" var="person" value="#{personService.listPersons()}"
                 paginator="true" rows="10">
        <f:facet name="header">
            <h3>Person CRUD With JSF 2 , Spring Boot Confi. XML </h3>
        </f:facet>
 
        <p:column>
            <f:facet name="header">
                <h:outputText value="Id" />
            </f:facet>
            <h:outputText value="#{person.id}" />
        </p:column>
 
        <p:column>
            <f:facet name="header">
                <h:outputText value="Name" />
            </f:facet>
            <h:outputText value="#{person.name}" />
        </p:column>
 
        <p:column>
            <f:facet name="header">
                <h:outputText value="Country" />
            </f:facet>
            <h:outputText value="#{person.country}" />
        </p:column>
        
         <p:column>
            <f:facet name="header">
                <h:outputText value="Date" />
            </f:facet>
            <h:outputText value="#{person.date}">
    			<f:convertDateTime pattern="MM/dd/yyyy hh:mm:ss" type="date" />
			</h:outputText>
        </p:column>
        
        
          <p:column>
            <f:facet name="header">
                <h:outputText value="delete" />
            </f:facet>
         
         <p:commandLink value="Delete" action="#{personService.deletePerson(person)}" >
    		
		</p:commandLink>  
				
        </p:column>
        

         
    </p:dataTable>
    
   <h1>Add Person Entity</h1>
	
	 <h:form id="loginForm">
 
           
            <p:growl id="msg" showDetail="true" life="3000" />
            <p:panel header="Login" style="width: 560px;">
 
                <h:panelGrid id="loginPanel" columns="2">
 
                    <h:outputText value="Name" />
 
                    <p:inputText id="name" value="#{person.name}" ></p:inputText>
 
                    <p:spacer></p:spacer>
 
                    <p:message for="name" ></p:message>
                    
                    
                     <h:outputText value="Country" />
 
                    <p:inputText id="country" value="#{person.country}" ></p:inputText>
 
                    <p:spacer></p:spacer>
 
                    <p:message for="country" ></p:message>
                    
                
                
                	<br/>
               		<h:outputText value="" />
               	
 					 <p:outputLabel for="button" value="Begin" />
        			<p:calendar id="button" value="#{person.date}" showOn="button" />
                    <p:spacer></p:spacer>
        		
                    <h:commandButton action="#{personService.addPerson(person)}" value="Add Person" update="msgs" actionListener="#{calendarView.click}" icon="ui-icon-check" ></h:commandButton>
                    
                    
                    
                    
 
                </h:panelGrid>
 
            </p:panel>
 
        </h:form>
	
</h:body>
</html>